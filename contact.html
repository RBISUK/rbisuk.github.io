<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Contact RBIS</title>
  <link rel="stylesheet" href="assets/rbis.min.css">
</head>
<body class="light">
  <div class="nav">
    <div class="container bar">
      <div class="brand"><div class="logo"></div><span>RBIS Intelligence</span></div>
      <ul>
        <li><a class="link" href="index.html">Home</a></li>
        <li><a class="link" href="products.html">Products >Products<amp; Services</a></li>
        <li><a class="link" href="solutions.html">Solutions</a></li>
        <li><a class="link" href="websites.html">Websites</a></li>
        <li><a class="link" href="reports.html">Professional Reports</a></li>
        <li><a class="link" href="trust.html">Trust Centre</a></li>
        <li><a class="link" href="about.html">About</a></li>
        <li><a class="link" href="dashboard.html">Dashboard</a></li>
      </ul>
      <div class="cta"><a class="btn primary" href="contact.html">Contact Us</a></div>
    </div>
  </div>

  <main class="wrap">
    <header style="margin:24px 0 12px">
      <h1 style="margin:0;font-size:36px;letter-spacing:-.02em">Talk to RBIS</h1>
      <p class="muted" style="max-width:70ch;margin:.6rem 0 0">
        Tell us what you’re trying to achieve. We’ll recommend the quickest, safest route.
      </p>
    </header>

    <section class="form-wrap">
      <form id="rbis-contact" class="form" autocomplete="on" novalidate>
        <h2>Contact us</h2>
        <div class="row">
          <div class="field"><label for="name">Name</label><input id="name" name="name" required></div>
          <div class="field"><label for="email">Email</label><input id="email" name="email" type="email" required></div>
        </div>
        <div class="row">
          <div class="field"><label for="company">Company</label><input id="company" name="company"></div>
          <div class="field"><label for="phone">Phone</label><input id="phone" name="phone"></div>
        </div>
        <div class="field"><label for="message">Message</label><textarea id="message" name="message" required></textarea></div>

        <!-- Hidden context -->
        <input type="hidden" name="page" id="page">
        <input type="hidden" name="utm_source" id="utm_source">
        <input type="hidden" name="utm_medium" id="utm_medium">
        <input type="hidden" name="utm_campaign" id="utm_campaign">
        <input type="hidden" name="ip" id="ip">
        <input type="hidden" name="user_agent" id="user_agent">
        <!-- Honeypot -->
        <input type="text" name="website" id="website" style="display:none">

        <div class="row">
          <button class="btn primary" type="submit">Send</button>
          <a class="btn ghost" href="reports.html">Browse reports</a>
        </div>
        <div id="rbis-contact-status" class="status" aria-live="polite"></div>
        <p class="note">We’ll only use your details to respond to this enquiry.</p>
      </form>
    </section>
  </main>

  <script>
  (async function(){
    const qs = new URLSearchParams(location.search);
    const set = (id,v)=>{const el=document.getElementById(id); if(el) el.value=v||"";}
    set("page", location.pathname + location.search);
    set("utm_source", qs.get("utm_source"));
    set("utm_medium", qs.get("utm_medium"));
    set("utm_campaign", qs.get("utm_campaign"));
    set("user_agent", navigator.userAgent);
    try{ const r=await fetch("https://api.ipify.org?format=json"); const j=await r.json(); set("ip", j.ip);}catch{}

    const form = document.getElementById("rbis-contact");
    const status = document.getElementById("rbis-contact-status");

    form.addEventListener("submit", async (e)=>{
      e.preventDefault();
      status.className="status"; status.textContent="Sending…";
      const data = Object.fromEntries(new FormData(form).entries());
      if (data.website) { status.textContent="Thanks!"; return; } // honeypot

      const ZAP_HOOK_URL = "https://hooks.zapier.com/hooks/catch/14012873/umjfdcf/"; // Contact Zap

      try{
        const res = await fetch(ZAP_HOOK_URL, {
          method:"POST", headers:{"Content-Type":"application/json"},
          body: JSON.stringify(data)
        });
        if(!res.ok) throw new Error("HTTP "+res.status);
        status.className="status ok"; status.textContent="Thanks — we’ll be in touch soon.";
        form.reset();
      }catch(err){
        console.error(err);
        status.className="status err";
        status.textContent="Sorry, something went wrong. Please email contact@rbisintelligence.com.";
      }
    });
  })();
  </script>
  <script src="assets/rbis.nav.js" defer></script>
</body>
</html>
<script>
/* RBIS_CONTACT_INTENT */
(function(){
  const qs = new URLSearchParams(location.search);
  const want = (n)=>qs.get(n)||"";
  function ensureHidden(name){
    let el=document.querySelector(`#rbis-contact [name="${name}"]`);
    if(!el){ el=document.createElement("input"); el.type="hidden"; el.name=name;
      document.getElementById("rbis-contact")?.appendChild(el); }
    return el;
  }
  const product = want("product"), report = want("report"), topic = want("topic");
  ensureHidden("product").value = product;
  ensureHidden("report").value  = report;
  ensureHidden("topic").value   = topic;
  const parts = [product && `Product: ${product}`, report && `Report: ${report}`, topic && `Topic: ${topic}`].filter(Boolean);
  ensureHidden("intent").value = parts.join(" | ");
  // UTM already present on page, just ensure they exist:
  ["utm_source","utm_medium","utm_campaign"].forEach(n=>ensureHidden(n));
})();
</script>
